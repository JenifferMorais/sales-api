# Database Configuration
# IMPORTANT: Credentials should come from environment variables or secrets
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.max-size=${DB_MAX_POOL_SIZE:16}

# Local development defaults
%dev.quarkus.datasource.username=${DB_USERNAME:sales}
%dev.quarkus.datasource.password=${DB_PASSWORD:dev_password_change_me}
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5433}/${DB_NAME:sales_db}

# Hibernate
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.log.format-sql=true

# HTTP
quarkus.http.port=8080
quarkus.http.test-port=8081

# OpenAPI/Swagger
quarkus.swagger-ui.enable=true
quarkus.swagger-ui.always-include=true
quarkus.smallrye-openapi.enable=true
mp.openapi.extensions.smallrye.info.title=Sales API
mp.openapi.extensions.smallrye.info.version=1.0.0
mp.openapi.extensions.smallrye.info.description=REST API for sales, customers and products management
mp.openapi.extensions.smallrye.info.contact.email=contact@sales.com
mp.openapi.extensions.smallrye.info.contact.name=Sales Team
mp.openapi.extensions.smallrye.info.license.name=Apache 2.0
mp.openapi.extensions.smallrye.info.license.url=https://www.apache.org/licenses/LICENSE-2.0.html

# Logging
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.console.level=INFO
quarkus.log.category."com.sales".level=INFO

# Logging detalhado em desenvolvimento
%dev.quarkus.log.category."com.sales.application".level=DEBUG
%dev.quarkus.log.category."com.sales.infrastructure.rest".level=DEBUG
%dev.quarkus.log.category."com.sales.infrastructure.persistence".level=INFO

# Logging de produção (mais conservador)
%prod.quarkus.log.category."com.sales.application".level=INFO
%prod.quarkus.log.category."com.sales.infrastructure.rest".level=INFO
%prod.quarkus.log.category."com.sales.infrastructure.persistence".level=WARN

# CORS (for development)
quarkus.http.cors=true
quarkus.http.cors.origins=*

# JWT Configuration
mp.jwt.verify.publickey.location=META-INF/resources/publicKey.pem
mp.jwt.verify.issuer=${JWT_ISSUER:sales-api}
smallrye.jwt.sign.key.location=META-INF/resources/privateKey.pem
jwt.expiration.hours=${JWT_EXPIRATION_HOURS:24}
jwt.inactivity.timeout.minutes=${JWT_INACTIVITY_TIMEOUT_MINUTES:15}

# Application
app.name=Sales API
app.url=${APP_URL:http://localhost:8080}
app.seed.enabled=false

# Email Configuration
quarkus.mailer.from=${SMTP_FROM:noreply@sales.com}
quarkus.mailer.host=${SMTP_HOST:smtp.gmail.com}
quarkus.mailer.port=${SMTP_PORT:587}
quarkus.mailer.start-tls=true
quarkus.mailer.username=${SMTP_USERNAME:}
quarkus.mailer.password=${SMTP_PASSWORD:}
quarkus.mailer.mock=${SMTP_MOCK:true}

# Encryption Configuration
# IMPORTANT: For production, use environment variable ENCRYPTION_KEY_BASE64
encryption.key.base64=${ENCRYPTION_KEY_BASE64:}

# Development-only encryption key (DO NOT USE IN PRODUCTION)
%dev.encryption.key.base64=+q4fGKbrx7gPEncgrjm3NArsZPeomMfRNUr5q4voE+8=

# Logging de operações de criptografia (apenas desenvolvimento)
%dev.quarkus.log.category."com.sales.infrastructure.security.AesEncryptionService".level=DEBUG
